{"ast":null,"code":"import _objectSpread from \"/Users/yuanxiaoyu/Desktop/editer/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"/Users/yuanxiaoyu/Desktop/editer/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/yuanxiaoyu/Desktop/editer/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/yuanxiaoyu/Desktop/editer/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/yuanxiaoyu/Desktop/editer/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/yuanxiaoyu/Desktop/editer/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/yuanxiaoyu/Desktop/editer/src/redux/connect.js\";\n\n/*\n * @Author: zengjian \n * @Date: 2018-12-03 19:29:13 \n * @Last Modified by: zengjian\n * @Last Modified time: 2018-12-10 19:19:32\n */\nimport React from 'react';\nimport Customer from './context';\n\nvar connect = function connect(fn) {\n  return function (Wrapper) {\n    return (\n      /*#__PURE__*/\n      function (_React$Component) {\n        _inherits(HOC, _React$Component);\n\n        function HOC() {\n          _classCallCheck(this, HOC);\n\n          return _possibleConstructorReturn(this, _getPrototypeOf(HOC).apply(this, arguments));\n        }\n\n        _createClass(HOC, [{\n          key: \"render\",\n          value: function render() {\n            var _this = this;\n\n            return React.createElement(Customer.Consumer, {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 13\n              },\n              __self: this\n            }, function (props) {\n              var newProps = {}; //为什么这里会有不是一个function的情况？\n\n              if (typeof fn === 'function') {\n                newProps = _objectSpread({}, fn(props), {\n                  dispatch: props.dispatch\n                });\n              } else {\n                newProps = {\n                  dispatch: props.dispatch\n                };\n              }\n\n              return React.createElement(Wrapper, Object.assign({}, _this.props, newProps, {\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 24\n                },\n                __self: this\n              }));\n            });\n          }\n        }]);\n\n        return HOC;\n      }(React.Component)\n    );\n  };\n};\n\nexport default connect;","map":{"version":3,"sources":["/Users/yuanxiaoyu/Desktop/editer/src/redux/connect.js"],"names":["React","Customer","connect","fn","Wrapper","props","newProps","dispatch","Component"],"mappings":";;;;;;;;AAAA;;;;;;AAMA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,QAAP,MAAqB,WAArB;;AAEA,IAAMC,OAAO,GAAE,SAATA,OAAS,CAACC,EAAD;AAAA,SAAQ,UAACC,OAAD,EAAa;AAChC;AAAA;AAAA;AAAA;;AAAA;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA,mCACa;AAAA;;AACL,mBAAO,oBAAC,QAAD,CAAU,QAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eACF,UAACC,KAAD,EAAS;AACN,kBAAIC,QAAQ,GAAC,EAAb,CADM,CAEN;;AACf,kBAAG,OAAOH,EAAP,KAAc,UAAjB,EAA4B;AAC3BG,gBAAAA,QAAQ,qBAAKH,EAAE,CAACE,KAAD,CAAP;AAAeE,kBAAAA,QAAQ,EAACF,KAAK,CAACE;AAA9B,kBAAR;AACA,eAFD,MAEK;AAEJD,gBAAAA,QAAQ,GAAC;AAACC,kBAAAA,QAAQ,EAACF,KAAK,CAACE;AAAhB,iBAAT;AACA;;AAEc,qBAAO,oBAAC,OAAD,oBAAe,KAAI,CAACF,KAApB,EAA+BC,QAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAAP;AACH,aAZE,CAAP;AAcH;AAhBL;;AAAA;AAAA,QAAyBN,KAAK,CAACQ,SAA/B;AAAA;AAkBH,GAnBc;AAAA,CAAf;;AAqBA,eAAeN,OAAf","sourcesContent":["/*\n * @Author: zengjian \n * @Date: 2018-12-03 19:29:13 \n * @Last Modified by: zengjian\n * @Last Modified time: 2018-12-10 19:19:32\n */\nimport React from 'react'\nimport Customer from './context'\n\nconst connect =(fn) => (Wrapper) => {\n    return class HOC extends React.Component {\n        render() {\n            return <Customer.Consumer>\n                {(props)=>{\n                    let newProps={}\n                    //为什么这里会有不是一个function的情况？\n\t\t\t\t\tif(typeof fn === 'function'){\n\t\t\t\t\t\tnewProps={...fn(props),dispatch:props.dispatch}\n\t\t\t\t\t}else{\n                        \n\t\t\t\t\t\tnewProps={dispatch:props.dispatch}\n\t\t\t\t\t}\n                   \n                    return <Wrapper   {...this.props} {...newProps}/>\n                }}\n            </Customer.Consumer>\n        }\n    }\n}\n\nexport default connect"]},"metadata":{},"sourceType":"module"}